<?php
$query_where = "
(
date_format(now()+interval 7 day,'%m-%d')>date_format(DOB,'%m-%d')
AND date_format(NOW(),'%m-%d')<date_format(DOB,'%m-%d')
)
OR
(date_format(NOW()+interval 7 day,'%m')='01'
AND date_format(NOW(),'%m')='12'
AND 
   (
   date_format(NOW()+interval 7 day,'%m-%d')>date_format(DOB,'%m-%d') 
   OR
      (
      date_format(NOW(),'%m-%d')<date_format(DOB,'%m-%d')
      AND '12-31'>=date_format(DOB,'%m-%d')
      )
    )
)
";

$query_where .= " OR
(
date_format(now()+interval 7 day,'%m-%d')>date_format(DOD,'%m-%d')
AND date_format(NOW(),'%m-%d')<date_format(DOD,'%m-%d')
)
OR
(date_format(NOW()+interval 7 day,'%m')='01'
AND date_format(NOW(),'%m')='12'
AND 
   (
   date_format(NOW()+interval 7 day,'%m-%d')>date_format(DOD,'%m-%d') 
   OR
      (
      date_format(NOW(),'%m-%d')<date_format(DOD,'%m-%d')
      AND '12-31'>=date_format(DOD,'%m-%d')
      )
    )
)
";
?>